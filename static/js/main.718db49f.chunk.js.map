{"version":3,"sources":["components/Modal/Modal.module.css","components/App.module.css","components/LoaderDots/LoaderDots.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","services/api.js","components/Searchbar/Searchbar.jsx","components/ErrorNotification/ErrorNotification.jsx","components/LoaderDots/LoaderDots.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/App.jsx","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryItem.module.css"],"names":["module","exports","KEY","fetchImages","query","page","requestParams","axios","get","Searchbar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","onSubmit","props","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ErrorNotification","text","defaultProps","LoaderDots","loader","color","height","width","timeout","ImageGalleryItem","picture","webformatURL","largeImageURL","src","alt","ImageGalleryItemImage","Modal","onClose","Overlay","onClick","role","ImageGallery","isModalOpen","openModal","currentTarget","URL","closeModal","code","window","addEventListener","removeEventListener","pictures","map","pic","key","id","Button","onLoadMore","App","items","isLoading","searchQuery","pageNumber","error","onSubmitSearchbar","onSearch","scrollHeight","document","documentElement","API","then","res","prevState","data","hits","catch","finally","scrollTo","top","behavior","prevProps","message","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.718db49f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1FAim\",\"Modal\":\"Modal_Modal__3RvHO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1-x3G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"LoaderDots_loader__1yC9n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2YeDP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2lXoy\"};","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '14260445-94202652c4e141397bd31e336';\n\nexport const fetchImages = (query, page = 1) => {\n  const requestParams = `?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=`;\n  return axios.get(BASE_URL + requestParams + KEY);\n};\n\nexport const w = () => null;\n","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  static propTypes = {\n    onSubmit: T.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      value: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { value } = this.state;\n    const { onSubmit } = this.props;\n    onSubmit(value);\n\n    this.setState({\n      value: '',\n    });\n  };\n\n  render() {\n    const { value } = this.state;\n\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            // eslint-disable-next-line jsx-a11y/no-autofocus\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={value}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport T from 'prop-types';\n\nconst ErrorNotification = ({ text }) => <h1>Something went wrong: {text} </h1>;\n\nErrorNotification.defaultProps = {\n  text: 'Please, try again!',\n};\n\nErrorNotification.propTypes = {\n  text: T.string,\n};\n\nexport default ErrorNotification;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport styles from './LoaderDots.module.css';\n\nconst LoaderDots = () => {\n  return (\n    <Loader\n      className={styles.loader}\n      type=\"ThreeDots\"\n      color=\"#3f51b5\"\n      height={100}\n      width={100}\n      timeout={3000}\n    />\n  );\n};\n\nexport default LoaderDots;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ picture: { webformatURL, largeImageURL } }) => (\n  <li className={styles.ImageGalleryItem}>\n    <img\n      src={webformatURL}\n      alt={largeImageURL}\n      className={styles.ImageGalleryItemImage}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  picture: T.shape({\n    webformatURL: T.string.isRequired,\n    largeImageURL: T.string.isRequired,\n  }).isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst Modal = ({ largeImageURL, onClose }) => (\n  <div className={styles.Overlay} onClick={onClose} role=\"presentation\">\n    <div className={styles.Modal}>\n      <img src={largeImageURL} alt=\"\" />\n    </div>\n  </div>\n);\n\nModal.propTypes = {\n  largeImageURL: T.string.isRequired,\n  onClose: T.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from './ImageGallery.module.css';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Modal from '../Modal/Modal';\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    pictures: T.arrayOf(T.shape({}).isRequired).isRequired,\n  };\n\n  state = {\n    isModalOpen: false,\n    largeImageURL: null,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeModal);\n  }\n\n  openModal = e => {\n    if (e.currentTarget !== e.target) {\n      const URL = e.target.alt;\n      this.setState({ isModalOpen: true, largeImageURL: URL });\n    }\n  };\n\n  closeModal = e => {\n    if (e.code === 'Escape' || e.currentTarget === e.target) {\n      this.setState({ isModalOpen: false });\n    }\n  };\n\n  render() {\n    const { isModalOpen, largeImageURL } = this.state;\n    const { pictures } = this.props;\n\n    return (\n      <>\n        <ul\n          className={styles.ImageGallery}\n          onClick={this.openModal}\n          role=\"presentation\"\n        >\n          {pictures.map(pic => (\n            <ImageGalleryItem key={pic.id} picture={pic} />\n          ))}\n        </ul>\n        {isModalOpen && (\n          <Modal largeImageURL={largeImageURL} onClose={this.closeModal} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onLoadMore }) => (\n  <button type=\"button\" onClick={onLoadMore} className={styles.Button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onLoadMore: T.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport styles from './App.module.css';\nimport * as API from '../services/api';\nimport Searchbar from './Searchbar/Searchbar';\nimport ErrorNotification from './ErrorNotification/ErrorNotification';\nimport LoaderDots from './LoaderDots/LoaderDots';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\n\nexport default class App extends Component {\n  state = {\n    items: [],\n    isLoading: false,\n    searchQuery: '',\n    pageNumber: 1,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, pageNumber } = this.state;\n    if (\n      prevState.searchQuery !== searchQuery ||\n      prevState.pageNumber !== pageNumber\n    ) {\n      this.onSearch(searchQuery, pageNumber);\n    }\n  }\n\n  onSubmitSearchbar = text => {\n    this.setState({\n      searchQuery: text,\n      items: [],\n      pageNumber: 1,\n    });\n  };\n\n  onSearch = (searchQuery, pageNumber) => {\n    const { scrollHeight } = document.documentElement;\n\n    this.setState({\n      isLoading: true,\n    });\n\n    API.fetchImages(searchQuery, pageNumber)\n      .then(res =>\n        this.setState(prevState => ({\n          items: [...prevState.items, ...res.data.hits],\n        })),\n      )\n      .catch(error => {\n        this.setState({ error });\n      })\n      .finally(() => {\n        window.scrollTo({\n          top: scrollHeight,\n          behavior: 'smooth',\n        });\n\n        this.setState({\n          isLoading: false,\n        });\n      });\n  };\n\n  onLoadMore = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n  };\n\n  render() {\n    const { items, isLoading, error } = this.state;\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onSubmitSearchbar} />\n        {error && <ErrorNotification text={error.message} />}\n        <ImageGallery pictures={items} />\n        {isLoading && <LoaderDots />}\n        {items.length > 0 && <Button onLoadMore={this.onLoadMore} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2ZOPQ\",\"SearchForm\":\"Searchbar_SearchForm__1Q6rR\",\"SearchFormButton\":\"Searchbar_SearchFormButton__tsds3\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__6yCES\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1raqo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__aVE9m\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3CkVO\"};"],"sourceRoot":""}